var gd_clw_core;!function(v,c,e,t){(gd_clw_core={init:function(){v(".clw-input-number").limitkeypress()},converter:{lock:!1,update:!0,mem:{rates:{},units:{}},save:{units:function(e){var t=v(".clw-converter-type","#clw-"+e).val();gd_clw_core.converter.mem.units.hasOwnProperty(e)?gd_clw_core.converter.mem.units[e].__type__=t:gd_clw_core.converter.mem.units[e]={__type__:t},gd_clw_core.converter.mem.units[e].hasOwnProperty(t)||(gd_clw_core.converter.mem.units[e][t]={}),gd_clw_core.converter.mem.units[e][t]=gd_clw_core.converter.save.get(e),gd_clw_core.converter.save.store("units")},get:function(e){return{f:v(".clw-converter-from","#clw-"+e).val(),t:v(".clw-converter-to","#clw-"+e).val(),i:v(".clw-converter-input","#clw-"+e).val()}},store:function(e){Cookies.set(gdclw_data.converter.cookie_prefix+e,gd_clw_core.converter.mem[e],{expires:365,path:"/"})}},switch:function(c){gd_clw_core.converter.lock=!0;var e=v(".clw-converter-type","#clw-"+c).val(),t=gdclw_data.converter.units[e].list,r=this.mem;v(".clw-converter-from","#clw-"+c).removeOption(/./),v(".clw-converter-to","#clw-"+c).removeOption(/./),v(".clw-converter-from","#clw-"+c).addOption(t,!1),v(".clw-converter-to","#clw-"+c).addOption(t,!1),r.units[c]&&r.units[c][e]&&v.each(r.units[c][e],function(e,t){var r="";"f"===e&&(r="from"),"t"===e&&(r="to"),"i"===e&&(r="input"),""!==r&&v(".clw-converter-"+r,"#clw-"+c).val(t)}),gd_clw_core.converter.lock=!1,gd_clw_core.converter.convert(c)},replace:function(e){gd_clw_core.converter.lock=!0;var t=v(".clw-converter-from","#clw-"+e).val(),r=v(".clw-converter-to","#clw-"+e).val();v(".clw-converter-from","#clw-"+e).val(r),v(".clw-converter-to","#clw-"+e).val(t),gd_clw_core.converter.lock=!1,this.convert(e)},convert:function(t){if(!gd_clw_core.converter.lock){var e,r,c=v(".clw-converter-type","#clw-"+t).val(),n=1,o=!1,a=v(".clw-converter-from","#clw-"+t).val(),l=v(".clw-converter-to","#clw-"+t).val();if(a!==l&&("currency_google"===c||"currency"===c?this.mem.rates.hasOwnProperty(a+l)?n=this.mem.rates[a+l]:this.mem.rates.hasOwnProperty(l+a)?n=0!==this.mem.rates[l+a]?1/this.mem.rates[l+a]:0:(o=!0,gd_clw_core.converter.lock=!0,v.ajax({url:gdclw_data.ajax,type:"POST",dataType:"json",cache:!1,data:{action:"gdclw_convert_currency_google",from:a,to:l},success:function(e){"ok"===e.status&&v.each(e.values,function(e,t){gd_clw_core.converter.mem.rates[e]=t}),gd_clw_core.converter.lock=!1,gd_clw_core.converter.convert(t)}})):(e=gdclw_data.converter.units[c].convert[a],r=gdclw_data.converter.units[c].convert[l],"temperature"!==c&&(n=e/r))),o)v(".clw-converter-output","#clw-"+t).html("...");else{var i=v(".clw-converter-input","#clw-"+t).val(),s=0;""===i&&(i=0),s="temperature"===c&&a!==l?(s=(i-e.offset)/e.ratio)*r.ratio+r.offset:i*n,v(".clw-converter-output","#clw-"+t).html(s),gd_clw_core.converter.update&&this.save.units(t)}}},loader:function(){var r=this.mem;v(".clw-units-converter").each(function(){var e=v(this).attr("id").substr(4),t=v(".clw-converter-type",this).val(),c=this;r.units[e]?(t=r.units[e].__type__,gd_clw_core.converter.update=!1,v(".clw-converter-type",this).containsOption(t)?v(".clw-converter-type",this).val(t):t=v(".clw-converter-type",this).val(),gd_clw_core.converter.switch(e),r.units[e][t]&&v.each(r.units[e][t],function(e,t){var r="";"f"===e&&(r="from"),"t"===e&&(r="to"),"i"===e&&(r="input"),""!==r&&v(".clw-converter-"+r,c).val(t)}),gd_clw_core.converter.update=!0):gd_clw_core.converter.switch(e),gd_clw_core.converter.convert(e)})},history:function(){Cookies.get(gdclw_data.converter.cookie_prefix+"units")&&(this.mem.units=Cookies.getJSON(gdclw_data.converter.cookie_prefix+"units"))},handlers:function(){v(".clw-units-converter .clw-converter-type").change(function(){var e=v(this).closest(".clw-units-converter").attr("id").substr(4);gd_clw_core.converter.switch(e)}),v(".clw-units-converter .clw-converter-from, .clw-units-converter .clw-converter-to").change(function(){var e=v(this).closest(".clw-units-converter").attr("id").substr(4);gd_clw_core.converter.convert(e)}),v(".clw-units-converter .clw-converter-input").bind("change keyup",function(){var e=v(this).closest(".clw-units-converter").attr("id").substr(4);gd_clw_core.converter.convert(e)}),v(".clw-units-converter .clw-middle-replace").click(function(){var e=v(this).closest(".clw-units-converter").attr("id").substr(4);gd_clw_core.converter.replace(e)})}},navigator:{animate:function(e,t,r,c){setTimeout(function(){"slideDown"===t?e.slideDown(r):"fadeIn"===t?e.fadeIn(r):e.show()},r/4*c)},static:function(){v(e).on("click",".clw-li-item a.clw-item",function(e){v(this).prev().find("a").click()})},init:function(){v(e).on("click","li.clw-li-expander a",function(e){e.preventDefault();var c=v(this).attr("href").substr(1).split("|"),n=c[7],o=c[8];if(c[0]=parseInt(c[0]),c[1]=parseInt(c[1]),c[2]=parseInt(c[2]),c[3]=parseInt(c[3])+c[2],c[3]>=c[1])if(c[3]>c[1]&&c[0]>c[1]){var a=v(this).parent().next();v(this).parent().remove(),a.fadeIn(o/4),v.ajax({dataType:"html",type:"POST",url:gdclw_data.ajax+"?action=gdclw_navigator_request",data:{_nonce:gdclw_data.nonce,widget:c[4],level:c[5],offset:c[1],value:c[6],current:gdclw_data.navigator.page,current_url:gdclw_data.navigator.url},success:function(e){var t=a.parent(),r=c[1];a.replaceWith(e),t.find("li.clw-li-item:hidden:lt("+c[2]+")").each(function(e){gd_clw_core.navigator.animate(v(this),n,o,e),r++}),r===c[0]&&t.find("li.clw-li-expander").fadeOut(1.2*o).attr("aria-hidden","true")}})}else(c[3]>c[1]||c[3]===c[1]&&c[1]===c[0])&&v(this).parent().fadeOut(1.2*o);v(this).attr("href","#"+c.join("|")),v(this).parent().parent().find("li.clw-li-item.clw-li-level-"+c[5]+":hidden:lt("+c[2]+")").each(function(e){gd_clw_core.navigator.animate(v(this),n,o,e)})}),v(e).on("click","span.clw-item-toggle a",function(e){v(this).parent().hasClass("clw-item-toggle-parent")&&(c.location.href=v(this).attr("href")),e.preventDefault(),v(this).parent().toggleClass("clw-item-toggle-open");var t=v(this).parent().next().next();if(v(this).parent().hasClass("clw-item-toggle-open")){if(v(this).attr("aria-pressed","true"),t.slideDown("500").attr("aria-hidden","false"),!v(this).hasClass("clw-loading")){v(this).addClass("clw-loading");var r=v(this).attr("href").substr(1).split("|");v.ajax({dataType:"html",type:"POST",url:gdclw_data.ajax+"?action=gdclw_navigator_request",data:{_nonce:gdclw_data.nonce,widget:r[0],level:r[1],offset:0,value:r[2],current:gdclw_data.navigator.page,current_url:gdclw_data.navigator.url},success:function(e){t.html(e),0<t.find(".clw-li-expander a").length?t.find(".clw-li-expander a").click():t.find("li.clw-li-item:hidden").each(function(e){gd_clw_core.navigator.animate(v(this),r[3],r[4],e)})}})}}else v(this).attr("aria-pressed","false"),t.slideUp(200).attr("aria-hidden","true")})}}}).init(),gdclw_data.modules.navigator&&(gd_clw_core.navigator.init(),gdclw_data.navigator.static&&gd_clw_core.navigator.static()),gdclw_data.modules.converter&&(gd_clw_core.converter.history(),gd_clw_core.converter.loader(),gd_clw_core.converter.handlers())}(jQuery,window,document);